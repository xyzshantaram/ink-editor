<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Writr Editor</title>
    <link rel="stylesheet" href="./dist/writr-editor.css">
</head>

<body>
    <div id="editor-testing"></div>
    <script type="module">
        import { debounce, init } from "./dist/writr-editor.js";

        const parent = document.querySelector('#editor-testing');
        const defaultContent = "# Editor Demo\n";
        const prompts = ["Prompts are insertable snippets."];
        const placeholder = "This string shows when the editor is empty.";
        const autosave = debounce((text) => {
            console.log('saving...');
            localStorage.setItem("contents", text);
        }, 1000);
        const retrieve = () => localStorage.getItem('contents');
        const done = (text) => console.log(`done clicked with content ${text}`);
        const exit = () => console.log('received exit request');
        const { editor, setVal, getVal } = await init(
            parent,
            defaultContent,
            prompts,
            placeholder,
            {
                autosave,
                retrieve,
                done,
                exit,
                width: '100%',
                height: 'calc(100vh - 1rem)',
                fontFamily: "'Roboto Mono', monospace"
            }
        );
    </script>
</body>

</html>