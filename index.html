<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Writr Editor</title>
</head>
<body>
    <script type="module">
        import { debounce, init } from "./dist/writr-editor.js";

        const parent = document.body;
        const defaultContent = "# Editor Demo\n";
        const prompts = ["Prompts are insertable snippets."];
        const placeholder = "This string shows when the editor is empty.";
        const autosave = debounce((text) => {
            console.log('saving...');
            localStorage.setItem("contents", text);
        }, 1000);
        const retrieve = () => localStorage.getItem('contents');
        const done = (text) => console.log(`done clicked with content ${text}`);
        const exit = () => console.log('received exit request');
        const { editor, setVal, getVal } = await init(
            parent,
            defaultContent,
            prompts,
            placeholder,
            {
                autosave,
                retrieve,
                done,
                exit
            }
        );
    </script>
</body>
</html>